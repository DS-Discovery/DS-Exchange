{% extends 'three_column_view.html' %}
{% load helperfuncs %}

<!-- TODO -->

<div class="d-flex flex-row justify-content-center align-items-center border p-2">
    <ul class="list-group list-group-horizontal-lg">
        <li class="list-group-item flex-fill"><h4 class="text-center">Applicants</h4></li>
        <div class="mt-3"></div>
        <li class="list-group-item flex-fill"><h4 class="text-center">Final Team</h4></li>
    </ul>
</div>

{% block first_column %}

<form method="get" novalidate>
    {% csrf_token %}
    
    <div class="list-group list-group-flush">

        {% for i in num_apps %}
            <button 
                type="submit" 
                class="list-group-item list-group-item-action {% if applications|index:i|id == curr_app|id %} active {% endif %}" 
                name="selected_applicant" 
                value="{{ applications|index:i|id }}"
            >Applicant {{ i|add:1 }}</button>
        {% endfor %}

    </div>
</form>

{% endblock %}


{% block second_column %}

<div class="p-2 my-1">

    <h5>Application Questions: </h5>

    {% include 'applications/question_responses.html' %}

</div>

{% endblock %}


{% block third_column %}

<div class="my-1 mt-2">

    <h5 class="text-center">Skill Filters</h5>

    <form method="GET" novalidate>

        {% csrf_token %}
        
        <select name="skill_wanted" class="custom-select mb-2" onChange="form.submit();">
            {% for skill in skills %}
                    <option class="dropdown-item" value="{{skill}}" {% if skill_wanted == skill %} selected {% endif %}>{{skill}}</option>
            {% endfor %}
        </select>

        {% if skill_wanted != "None" %}
            <select name="level_wanted" class="custom-select" onChange="form.submit();">
                {% for level in levels %}
                    <option class="dropdown-item" value="{{level}}" {% if level_wanted == level %} selected {% endif %}>{{level}}</option>
                {% endfor %}
            </select>
        {% endif %}

    </form>
</div>

<hr>

{% if curr_app is not None %}

    <div class="d-flex flex-column my-1">
        <h5 class="text-center">Basic Information</h5>
        
        <div class="d-flex flex-column my-1">
            <p>Name: <span class="text-muted">{{curr_student.first_name}} {{curr_student.last_name}}</span></p>
            <p>Email: <span class="text-muted">{{curr_student.email_address}}</span></p>
            <p>Major: <span class="text-muted">{{curr_student.major}}</span></p>
            <p>Graduation Year: <span class="text-muted">{{curr_student.year}}</span></p>
        </div>
        
        <div class="d-flex flex-column align-items-center">
            <a class="btn btn-outline-info" href="{{ curr_student.resume_link }}" role="button" target="_blank" rel="noopener noreferrer">Resume</a>
        </div>
        
    </div>

    <hr>

    <div class="d-flex flex-column my-1">

        <h5 class="text-center">Action Items</h5>

        <div class="my-1">

            <div class="d-flex flex-row justify-content-center mb-2">
                <button type="button" class="btn btn-outline-success">Interview Schedule</button>
            </div>

            <div class="d-flex flex-row justify-content-center">
                <button type="button" class="btn btn-outline-danger">Reject without Interview</button>
            </div>

        </div>

    </div>

{% endif %}

{% endblock %}
