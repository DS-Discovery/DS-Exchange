{% extends "admin/base_site.html" %}
{% load i18n static %}
{% load render_table from django_tables2 %}

{% block extrastyle %}
{{ block.super }}
<link rel="stylesheet" type="text/css" href="{% static "admin/css/changelists.css" %}">
<link rel="stylesheet" type="text/css" href="{% static "css/table.css" %}">
{% endblock %}

{% block sidebar %}
<span class="user-tools">
  <h1>Tools</h1>
  <form class="actions">
      <h2>{% translate 'Group' %}</h2>
        <select name="group" required="">
          {% for value, option in group_support %}
          <option value={{ value }} {% if group_query == value %}selected{% endif %}>{% translate 'Show statuses by' %} {% translate option %}</option>
          {% endfor %}
        </select>
      <br/><br/>
      <h2>{% translate 'Semester' %}</h2>
        <select name="semester" required="">
          {% for value, option in semester_support %}
          <option value={{ value }} {% if semester_query == value %}selected{% endif %}> {% translate option %}</option>
          {% endfor %}
        </select>
      <br/><br/>
      <h2>{% translate 'Filter' %}</h2>
      <h3>{% translate 'Show' %}</h3>
      <label>{% translate 'Show students that meet the selected conditions.' %}</label>
      {% for value, option in filter_support %}
      <br/>
      <label><input type="checkbox" name={{ value }} value="IN" {% if value in filter_in_query %}checked{% endif %}/> {% translate option %}</label>
      {% endfor %}
      <br/><br/>
      <h3>{% translate 'Hide' %}</h3>
      <label>{% translate 'Hide students that meet the selected conditions.' %}</label>
        {% for value, option in filter_support %}
        <br/>
        <label><input type="checkbox" name={{ value }} value="OUT" {% if value in filter_out_query %}checked{% endif %}/> {% translate option %}</label>
        {% endfor %}
      <br/>
      <button type="submit" class="button" title="Run the selected action">{% translate 'Go' %}</button>
  </form>
  <form class="actions">
      <select name="export" required="">
        <option value="" selected="">---------</option>
        {% for format in export_support %}
        <option value={{ format }}>{{ format }}</option>
        {% endfor %}
      </select>
      {% for filter in filter_in_query %}
      <input type="hidden" name={{ filter }} value="IN">
      {% endfor %}
      {% for filter in filter_out_query %}
      <input type="hidden" name={{ filter }} value="OUT">
      {% endfor %}
      <input type="hidden" name="group" value={{ group_query }}>
      <input type="hidden" name="semester" value={{ semester_query }}>
      <button type="submit" class="button" title="Export">{% translate 'Export' %}</button>
  </form>

</select>
</span>
{% endblock %}

{% block content %}
{% render_table table %}
{% endblock %}
